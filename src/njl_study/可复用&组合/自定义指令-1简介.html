<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>自定义指令</title>
  <script src="../../../node_modules/vue/dist/vue.global.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
  <a href="https://v3.cn.vuejs.org/guide/custom-directive.html">自定义指令</a>
  <hr/>

  <h1>简介</h1>
  <p>全局注册</p>
  <div id="simplest-directive-example" class="demo">
    <!--然后你可以在模板中任何元素上使用新的 v-focus attribute，如下：-->
    <input v-focus/>
  </div>
  <script>
    const app1 = Vue.createApp({});
    // 注册一个全局自定义指令 `v-focus`

    app1.directive('focus', {
      // 当被绑定的元素挂载到 DOM 中时……
      mounted(el) {
        el.focus()
      }
    })

    const vm1 = app1.mount('#simplest-directive-example')
  </script>
  <hr>

  <p>局部注册</p>
  <div id="simplest-directive-example-2" class="demo">
    <!--然后你可以在模板中任何元素上使用新的 v-focus attribute，如下：-->
    <input v-focus/>
  </div>
  <script>
    const app2 = Vue.createApp({
      // 如果想注册局部指令，组件中也接受一个 directives 的选项：
      directives: {
        focus: {
          // 指令的定义
          mounted(el) {
            el.focus()
          }
        }
      }
    });
    const vm2 = app2.mount('#simplest-directive-example-2')
  </script>
  <hr>
</body>

<style>
  .demo {
    font-family: sans-serif;
    border: 1px solid #eee;
    border-radius: 2px;
    padding: 20px 30px;
    margin-top: 1em;
    margin-bottom: 40px;
    user-select: none;
    overflow-x: auto;
  }
</style>
</html>


